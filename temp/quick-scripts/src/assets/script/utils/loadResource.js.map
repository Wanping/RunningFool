{"version":3,"sources":["assets/script/utils/loadResource.js"],"names":["gameDef","require","cc","Class","Component","ctor","loadAllScene","progressFunc","successFunc","SceneArray","onShowProgress","completedCount","totalCount","val","onSuccessLoad","i","length","director","preloadScene"],"mappings":";;;;;;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AAEAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,IAHK,kBAGG,CAEP,CALI;AAOLC,EAAAA,YAPK,wBAOSC,YAPT,EAOuBC,WAPvB,EAOoC;AACrC,QAAIC,UAAU,GAAGT,OAAO,CAACS,UAAzB;;AACA,QAAIC,cAAc,GAAG,SAAjBA,cAAiB,CAAUC,cAAV,EAA0BC,UAA1B,EAAsC;AACvD,UAAIC,GAAG,GAAGF,cAAc,GAACC,UAAzB;AACA,UAAGL,YAAH,EAAiBA,YAAY,CAACM,GAAD,CAAZ;AACpB,KAHD;;AAKA,QAAIC,aAAa,GAAG,SAAhBA,aAAgB,GAAY;AAC5B,UAAGN,WAAH,EAAgBA,WAAW;AAC9B,KAFD;;AAIA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,UAAU,CAACO,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxCb,MAAAA,EAAE,CAACe,QAAH,CAAYC,YAAZ,CAAyBT,UAAU,CAACM,CAAD,CAAnC,EAAwCL,cAAxC,EAAwDI,aAAxD;AACH;AACJ;AArBI,CAAT","sourceRoot":"/","sourcesContent":["let gameDef = require(\"gameDef\");\n\ncc.Class({\n    extends: cc.Component,\n\n    ctor () {\n\n    },\n\n    loadAllScene (progressFunc, successFunc) {\n        let SceneArray = gameDef.SceneArray;\n        let onShowProgress = function (completedCount, totalCount) {\n            var val = completedCount/totalCount;\n            if(progressFunc) progressFunc(val);\n        };\n\n        let onSuccessLoad = function () {\n            if(successFunc) successFunc();\n        };\n\n        for (let i = 0; i < SceneArray.length; i++) {\n            cc.director.preloadScene(SceneArray[i], onShowProgress, onSuccessLoad);\n        }\n    },\n});"]}