window.__require=function e(n,t,o){function c(i,a){if(!t[i]){if(!n[i]){var r=i.split("/");if(r=r[r.length-1],!n[r]){var u="function"==typeof __require&&__require;if(!a&&u)return u(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+i+"'")}i=r}var l=t[i]={exports:{}};n[i][0].call(l.exports,function(e){return c(n[i][1][e]||e)},l,l.exports,e,n,t,o)}return t[i].exports}for(var s="function"==typeof __require&&__require,i=0;i<o.length;i++)c(o[i]);return c}({LoginController:[function(e,n,t){"use strict";cc._RF.push(n,"b4a01BbvLxDTZ/qYVUettBq","LoginController");var o=e("gameDef"),c=e("singleton"),s=e("wechatSdk");cc.Class({extends:cc.Component,properties:{ProgressBar:{type:cc.ProgressBar,default:null},LabelTip:{type:cc.Label,default:null}},onLoad:function(){c.curScene=o.Scene.Login,this.LabelTip.node.active=!1,this.ProgressBar.node.active=!1,this.initLoginModule()},initLoginModule:function(){this.wechatSdk=new s},onClickWxLogin:function(){var e=this;this.LabelTip.node.active=!0,this.ProgressBar.node.active=!0,this.wechatSdk.isWeChat()?this.wechatSdk.login(function(){e.preloadAllScene()}):this.preloadAllScene()},preloadAllScene:function(){var e=this;c.loadManager.loadAllScene(function(n){if(e.ProgressBar){if(n>=100)return e.ProgressBar.progress=100,void(e.LabelTip.string="\u6b63\u5728\u8fdb\u5165\u6e38\u620f\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff5e");e.ProgressBar.progress=n,e.LabelTip.string="\u6b63\u5728\u8fdb\u5165\u6e38\u620f\uff0c\u5f53\u524d\u52a0\u8f7d"+(100*n).toFixed(2)+"%",console.log("\u6b63\u5728\u8fdb\u5165\u6e38\u620f\uff0c\u5f53\u524d\u52a0\u8f7d"+(100*n).toFixed(2)+"%")}},function(){cc.director.loadScene(o.Scene.Hall)})}}),cc._RF.pop()},{gameDef:"gameDef",singleton:"singleton",wechatSdk:"wechatSdk"}],gameDef:[function(e,n,t){"use strict";cc._RF.push(n,"0ff59d3SPlA/ZrCBzM9ObAz","gameDef");var o={SceneArray:["login","hall","game"],Scene:{Login:"login",Hall:"hall",Game:"game"},Mode:{Normal:0,Crazy:1}};n.exports=o,cc._RF.pop()},{}],hallController:[function(e,n,t){"use strict";cc._RF.push(n,"8d089zVO3BAs4u3z+FwP01o","hallController");var o=e("gameDef"),c=e("singleton");cc.Class({extends:cc.Component,properties:{NodeBtnNormal:{type:cc.Node,default:null},NodeBtnCrazy:{type:cc.Node,default:null}},onLoad:function(){c.curScene=o.Scene.Hall},start:function(){this.startNodeBtnAnim()},startNodeBtnAnim:function(){this.NodeBtnNormal.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,10)),cc.moveBy(.3,cc.v2(0,-10))))),this.NodeBtnCrazy.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,10)),cc.moveBy(.3,cc.v2(0,-10)))))},onClickNormalBtn:function(){c.curGameMode=o.Mode.Normal,cc.director.loadScene(o.Scene.Game)},onClickCrazyBtn:function(){c.curGameMode=o.Mode.Crazy,cc.director.loadScene(o.Scene.Game)}}),cc._RF.pop()},{gameDef:"gameDef",singleton:"singleton"}],loadResource:[function(e,n,t){"use strict";cc._RF.push(n,"ef229mugkRCAJepadAeyvu7","loadResource");var o=e("gameDef");cc.Class({extends:cc.Component,ctor:function(){},loadAllScene:function(e,n){for(var t=o.SceneArray,c=function(n,t){e&&e(n/t)},s=function(){n&&n()},i=0;i<t.length;i++)cc.director.preloadScene(t[i],c,s)}}),cc._RF.pop()},{gameDef:"gameDef"}],main:[function(e,n,t){"use strict";cc._RF.push(n,"8479b9tizNEXL684Aj2/SWf","main");var o=e("singleton"),c=e("userData"),s=e("loadResource");cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.game.addPersistRootNode(this.node),this.initGameData(),this.initGameScene(),this.initGameStation(),this.initGameMode(),this.initGameUtils()},onDestroy:function(){o.userData.release()},start:function(){},initGameScene:function(){o.curScene&&(delete o.curScene,o.curScene=null)},initGameMode:function(){o.curGameMode&&(delete o.curGameMode,o.curGameMode=null)},initGameStation:function(){o.curGameStation&&(delete o.curGameStation,o.curGameStation=null)},initGameData:function(){o.userData&&(delete o.curGameMode,o.curGameMode=null),o.userData=new c},initGameUtils:function(){o.loadManager=new s}}),cc._RF.pop()},{loadResource:"loadResource",singleton:"singleton",userData:"userData"}],physicsManager:[function(e,n,t){"use strict";cc._RF.push(n,"90e609yB4RL7oZKGKxwljC9","physicsManager"),cc.Class({extends:cc.Component,properties:{isDebug:{default:!0,type:cc.Boolean}},onLoad:function(){var e=cc.director.getPhysicsManager();e.enabled=!0,this.isDebug&&(e.debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit)}}),cc._RF.pop()},{}],singleton:[function(e,n,t){"use strict";cc._RF.push(n,"0042cFYsopA6JTKd7xHCAKA","singleton");n.exports={},cc._RF.pop()},{}],userData:[function(e,n,t){"use strict";cc._RF.push(n,"556d9cctf5DZbEZ1gWvUOpH","userData"),cc.Class({extends:cc.Component,ctor:function(){this.resetData()},release:function(){this.resetData()},resetData:function(){this.userWxData=null},setUserWxData:function(e){this.userWxData=e},getUserWxData:function(){return this.userWxData}}),cc._RF.pop()},{}],wechatSdk:[function(e,n,t){"use strict";cc._RF.push(n,"db178cndaVN653+3C3z/ut7","wechatSdk");var o=e("singleton");cc.Class({extends:cc.Component,onLoad:function(){console.log("wechatSdk onLoad"),this.wxSessionVaild=!1,this.userInfo=null},ctor:function(){console.log("wechatSdk ctor"),this.isWeChat()?(this.wxSessionVaild=this.checkWxSession(),this.initLoginButton()):console.log("The env isn't wechat")},isWeChat:function(){return cc.sys.browserType===cc.sys.BROWSER_TYPE_WECHAT_GAME},checkWxSession:function(){wx.checkSession({success:function(){return!0},fail:function(){return!1}})},login:function(e){console.log("wechatSdk login.."),this.successFunc=e,this.wxSessionVaild&&(this.getUserInfo(),e&&e())},initLoginButton:function(){var e=this,n=window.wx,t=n.getSystemInfoSync(),c=t.screenWidth,s=t.screenHeight;n.getSetting({success:function(t){if(console.log("UserAuthSetting: "+t.authSetting),t.authSetting["scope.userInfo"])console.log("The user has the scope!"),e.getUserInfo();else{console.log("The user hasn't the scope!");var i=n.createUserInfoButton({type:"text",text:"",style:{left:c/2,top:s/2,width:c,height:s,backgroundColor:"#00000000",color:"#ffffff",fontSize:20,textAlign:"center",lineHeight:s}});i.onTap(function(n){n.userInfo?(e.userInfo=n.userInfo,o.userData.setUserWxData(e.userInfo),i.destroy(),e.successFunc&&e.successFunc()):console.log("The user cncelled the authorization!")})}}})},getUserInfo:function(){var e=this;wx.getUserInfo({success:function(n){console.log("The userInfo is "+JSON.stringify(n.userInfo)),e.userInfo=n.userInfo,o.userData.setUserWxData(e.userInfo)}})}}),cc._RF.pop()},{singleton:"singleton"}]},{},["gameDef","singleton","userData","hallController","LoginController","main","loadResource","physicsManager","wechatSdk"]);